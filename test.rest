### USERS ************************************************
### USERS ************************************************

### Get all users
GET http://localhost:5000/api/users

### Register
POST http://localhost:5000/api/auth/register HTTP/1.1
content-type: application/json

{
  "name": "Vital",
  "email": "jt@mail.ru",
  "password": "11111111",
  "confirmPassword": "11111111"
}

### Login
POST http://localhost:5000/api/auth/login HTTP/1.1
content-type: application/json

{
  "email": "jt@mail.ru",
  "password": "11111111"
}

### Update access token
POST http://localhost:5000/api/auth/refresh-token HTTP/1.1
content-type: application/json

{
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTczOTQ2ODQ1OSwiZXhwIjoxNzM5NDY4NjM5fQ.1FOAGRlABKa5bwkBrW0d2pm8LSBjteKdKalbK_H82X8"
}

### POLLS ************************************************
### POLLS ************************************************

### Get all polls
GET http://localhost:5000/api/polls?page=1&limit=20
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTczOTQ2ODYwNSwiZXhwIjoxNzM5NDY4NzI1fQ.e85y3dTfIwwogQeFmAZolbOeJf3_OTUVu1AgVhVYq2A

### Get own polls
GET http://localhost:5000/api/polls/own?page=1&limit=20
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTczOTQ2NDkyMywiZXhwIjoxNzM5NDY4NTIzfQ.V8mDuahdhxHs13M92LuCYRiAfmSEuItPOX1q-29FcX0

### Get poll statistics
GET http://localhost:5000/api/polls/1/statistics
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTczOTQ2NDkyMywiZXhwIjoxNzM5NDY4NTIzfQ.V8mDuahdhxHs13M92LuCYRiAfmSEuItPOX1q-29FcX0

### Create poll
POST http://localhost:5000/api/polls HTTP/1.1
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTczOTQ2NDkyMywiZXhwIjoxNzM5NDY4NTIzfQ.V8mDuahdhxHs13M92LuCYRiAfmSEuItPOX1q-29FcX0

{
  "title": "Super poll",
  "description": "super description",
  "questions": [
    {
      "text": "How old are you?",
      "answers": [
        {"text": "11-20"},
        {"text": "21-30"},
        {"text": "31-40"}
      ]
    },
    {
      "text": "How are you?",
      "answers": [
        {"text": "fine"},
        {"text": "very well"},
        {"text": "bad"}
      ]
    }
  ]
}

### Close poll
PATCH http://localhost:5000/api/polls/2/close HTTP/1.1
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTczOTQ2NDkyMywiZXhwIjoxNzM5NDY4NTIzfQ.V8mDuahdhxHs13M92LuCYRiAfmSEuItPOX1q-29FcX0

### Update poll
PATCH http://localhost:5000/api/polls/1/update HTTP/1.1
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTczOTQ2NDkyMywiZXhwIjoxNzM5NDY4NTIzfQ.V8mDuahdhxHs13M92LuCYRiAfmSEuItPOX1q-29FcX0

{
  "title": "Updated Poll",
  "questions": [
    {
      "id": 1, //с id обновится существующий question, answer; без id будет создан новый
      "text": "Updated Question 1",
      "answers": [
        { "id": 1, "text": "Updated Answer 1" },
        { "text": "New Answer" }
      ]
    }
  ]
}

### Save user answers
POST http://localhost:5000/api/polls/1/save-answers HTTP/1.1
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTczOTQ2NDkyMywiZXhwIjoxNzM5NDY4NTIzfQ.V8mDuahdhxHs13M92LuCYRiAfmSEuItPOX1q-29FcX0

{
  "userAnswers": [
    {"questionId": 1, "answerId": 1},
    {"questionId": 2, "answerId": 4}
  ]
}

### Delete poll
DELETE http://localhost:5000/api/polls/2
content-type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTczOTQ2NDkyMywiZXhwIjoxNzM5NDY4NTIzfQ.V8mDuahdhxHs13M92LuCYRiAfmSEuItPOX1q-29FcX0
